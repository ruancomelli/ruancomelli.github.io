<!-- 
  Custom profile template that differs from the theme's version in several ways:
  1. Enhanced responsive layout with flex-col/flex-row for mobile/desktop
  2. Added custom profile-container and profile-content classes for styling
  3. Improved avatar styling with border, shadow and background effects
  4. Centered content on mobile, left-aligned on desktop
  5. Adjusted spacing and margins for better visual hierarchy
  6. Added responsive text alignment (centered on mobile, left on desktop)
  7. Enhanced social icons layout with better spacing and wrapping
-->
{% import "linkita/templates/macros/url.html" as m_url %} {% import
"linkita/templates/macros/i18n.html" as m_i18n %} {%- if
g_profile.languages[lang].name %} {%- set profile_name =
g_profile.languages[lang].name %} {%- elif g_profile.name %} {%- set
profile_name = g_profile.name %} {%- endif %} {%- if
g_profile.languages[lang].bio %} {%- set profile_bio =
g_profile.languages[lang].bio %} {%- elif g_profile.bio %} {%- set profile_bio =
g_profile.bio %} {%- endif %} {%- if g_profile.languages[lang].social %} {%- set
profile_social = g_profile.languages[lang].social %} {%- elif g_profile.social
%} {%- set profile_social = g_profile.social %} {%- endif %} {%- if
g_profile.languages[lang].avatar_alt %} {%- set profile_avatar_alt =
g_profile.languages[lang].avatar_alt %} {%- elif g_profile.avatar_alt %} {%- set
profile_avatar_alt = g_profile.avatar_alt %} {%- endif %}

<div
  class="mb-16 flex flex-col sm:flex-row items-center sm:items-start profile-container"
>
  {%- if g_profile.avatar_url %}
  <div
    class="not-prose shrink-0 rounded-full border-[0.5px] border-black/10 bg-white/50 p-3 shadow dark:bg-white/[15%] mb-6 sm:mb-0"
  >
    <img
      class="profile-avatar {% if g_profile.avatar_invert %}dark:invert{% endif %} my-0 aspect-square rounded-full !bg-black/5"
      src="{{ get_url(path=g_profile.avatar_url, cachebust=true) }}"
      {%
      if
      profile_avatar_alt
      is
      defined
      %}
      alt="{{ profile_avatar_alt | escape_xml | safe }}"
      {%
      endif
      %}
    />
  </div>
  {%- endif %}

  <div class="flex flex-col w-full sm:w-auto profile-content">
    {%- if profile_name is defined %}
    <h1 class="mb-4 text-2xl sm:text-3xl font-bold text-center sm:text-left">
      {{ profile_name }}
    </h1>
    {%- endif %} {%- if profile_bio is defined %}
    <div class="mb-4 break-words text-center sm:text-left">
      {{ profile_bio | markdown(inline=true) | safe }}
    </div>
    {%- endif %} {%- if profile_social is defined %}
    <nav
      class="flex justify-center sm:justify-start {% if profile_social | length > 5 %}flex-row flex-wrap gap-3{% else %}space-x-3{% endif %} dark:invert"
    >
      {%- for social in profile_social %} {%- if social.urls[lang] %} {%- set
      social_url = social.urls[lang] %} {%- else %} {%- set social_url =
      social.url %} {%- endif %} {%- if social.titles[lang] %} {%- set
      social_title = social.titles[lang] %} {%- elif social.title %} {%- set
      social_title = social.title %} {%- else %} {%- set social_title =
      social.name %} {%- endif %}

      <a
        class="primary-link h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat]"
        style="--url: url({{ m_url::social_icon(icon=social.name, prl=false) }});"
        href="{{ m_url::rel(there=m_url::get(url=social_url), here=g_here, base=g_base) }}"
        target="_blank"
        rel="{% if social.name == `rss` %}alternate{% else %}me{% endif %}"
        title="{{ social_title }}"
        >{{ social.name }}</a
      >
      {%- endfor %}
    </nav>
    {%- endif %}
  </div>
</div>
